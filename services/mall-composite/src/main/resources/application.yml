logging:
    level:
        root: INFO
        me.hanwool: DEBUG

server:
    port: 7000
    error:
        include-message: always

app:
    coupon-service:
        host: localhost
        port: 7001
    order-service:
        host: localhost
        port: 7002

spring.cloud.stream:
    defaultBinder: kafka
    default.contentType: application/json
    bindings:
        output-orders:
            destination: orders
            producer:
                required-groups: auditGroup
        output-coupons:
            destination: coupons
            producer:
                required-groups: auditGroup

spring.cloud.stream.kafka.binder:
    brokers: 127.0.0.1
    defaultBrokerPort: 9092

---
spring:
    config:
        activate:
            on-profile: dev
logging:
    level:
        root: INFO
        me.hanwool: DEBUG

server:
    port: 8080
    error:
        include-message: always

app:
    coupon-service:
        host: coupon
        port: 8080
    order-service:
        host: order
        port: 8080

spring.cloud.stream.kafka.binder.brokers: kafka

#spring.cloud.stream.bindings.output-orders.producer:
#    partition-key-expression: payload.key
#    partition-count: 2
#
#spring.cloud.stream.bindings.output-coupons.producer:
#    partition-key-expression: payload.key
#    partition-count: 2

---
spring:
    config:
        activate:
            on-profile: stage

logging:
    level:
        root: INFO
        me.hanwool: INFO

server:
    port: 8080
    error:
        include-message: never

app:
    coupon-service:
        host: coupon
        port: 8080
    order-service:
        host: order
        port: 8080

---
spring:
    config:
        activate:
            on-profile: prod

logging:
    level:
        root: INFO
        me.hanwool: INFO

server:
    port: 8080

app:
    coupon-service:
        host: coupon
        port: 8080
    order-service:
        host: order
        port: 8080
